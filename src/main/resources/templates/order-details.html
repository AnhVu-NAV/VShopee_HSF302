<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{layout :: head}">
    <title>Chi ti·∫øt ƒë∆°n h√†ng - VShopper</title>
</head>
<body id="page-body" class="bg-light text-dark d-flex flex-column min-vh-100">

<!-- ‚úÖ Navbar -->
<nav th:replace="~{layout :: navbar}"></nav>

<main class="container mt-5 flex-fill">
    <h2 class="mb-4 text-success">
        üßæ Chi ti·∫øt ƒë∆°n h√†ng #<span th:text="${bill.id}"></span>
    </h2>

    <div class="card shadow-sm mb-4">
        <div class="card-body">
            <p><strong>Ng√†y ƒë·∫∑t:</strong>
                <span th:text="${#dates.format(bill.createdDate, 'dd/MM/yyyy')}"></span>
            </p>
            <p><strong>Tr·∫°ng th√°i:</strong>
                <span class="badge" th:classappend="${order.statusClass}" th:text="${order.statusText}"></span>
            </p>
            <p><strong>Ph∆∞∆°ng th·ª©c thanh to√°n:</strong>
                <span th:text="${bill.paymentMethod != null ? bill.paymentMethod : 'Ch∆∞a x√°c ƒë·ªãnh'}"></span>
            </p>
        </div>
    </div>

    <div class="table-responsive">
        <table class="table table-bordered table-hover align-middle shadow-sm bg-white">
            <thead class="table-success text-center">
            <tr>
                <th>#</th>
                <th>T√™n s·∫£n ph·∫©m</th>
                <th>ƒê∆°n gi√°</th>
                <th>S·ªë l∆∞·ª£ng</th>
                <th>Th√†nh ti·ªÅn</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="od, stat : ${bill.order.orderDetails}" class="text-center">
                <td th:text="${stat.count}"></td>
                <td th:text="${od.product.name}"></td>
                <td th:text="${#numbers.formatDecimal(od.price, 0, 'POINT', 0, 'COMMA')} + ' ƒë'"></td>
                <td th:text="${od.quantity}"></td>
                <td th:text="${#numbers.formatDecimal(od.price * od.quantity, 0, 'POINT', 0, 'COMMA')} + ' ƒë'"></td>
            </tr>
            </tbody>
        </table>
    </div>

    <div class="text-end mt-3">
        <h5>
            T·ªïng c·ªông:
            <span class="text-success fw-bold"
                  th:text="${#numbers.formatDecimal(total, 0, 'POINT', 0, 'COMMA')} + ' ƒë'">
            </span>
        </h5>
    </div>

    <a class="btn btn-secondary mt-4" th:href="@{/my-orders}">‚¨ÖÔ∏è Quay l·∫°i danh s√°ch ƒë∆°n h√†ng</a>
</main>

<!-- ‚úÖ Footer -->
<footer th:replace="~{layout :: footer}"></footer>

<!-- ‚úÖ Scripts -->
<div th:replace="~{layout :: script}"></div>

</body>
</html>
