<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{layout :: head}">
    <title>Chi ti·∫øt ƒë∆°n h√†ng</title>
</head>
<body id="page-body" class="bg-light text-dark d-flex flex-column min-vh-100">

<!-- Navbar -->
<nav th:replace="~{layout :: navbar}"></nav>

<main class="flex-fill container py-4">
    <h2 class="text-success mb-4">Chi ti·∫øt ƒë∆°n h√†ng</h2>

    <div class="mb-3">
        <strong>ID:</strong> <span th:text="${bill.id}"></span>
    </div>
    <div class="mb-3">
        <strong>Kh√°ch h√†ng:</strong> <span th:text="${bill.user.fullname}"></span>
    </div>
    <div class="mb-3">
        <strong>T·ªïng ti·ªÅn:</strong> <span th:text="${#numbers.formatDecimal(bill.order.totalPrice, 0, 'COMMA', 0, 'POINT') + ' ‚Ç´'}"></span>
    </div>
    <div class="mb-3">
        <strong>Ng√†y ƒë·∫∑t:</strong> <span th:text="${#dates.format(bill.createdDate, 'dd/MM/yyyy')}"></span>
    </div>
    <div class="mb-3">
        <strong>Tr·∫°ng th√°i:</strong> <span th:text="${bill.status}"></span>
    </div>

    <!-- üõí Danh s√°ch s·∫£n ph·∫©m -->
    <h4 class="mt-4">S·∫£n ph·∫©m trong ƒë∆°n</h4>
    <table class="table table-bordered table-hover mt-3">
        <thead class="table-success text-center">
        <tr>
            <th>#</th>
            <th>T√™n s·∫£n ph·∫©m</th>
            <th>Gi√°</th>
            <th>S·ªë l∆∞·ª£ng</th>
            <th>Th√†nh ti·ªÅn</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="detail, iterStat : ${bill.order.orderDetails}" class="text-center">
            <td th:text="${iterStat.index + 1}"></td>
            <td th:text="${detail.product.name}"></td>
            <td th:text="${#numbers.formatDecimal(detail.price, 0, 'COMMA', 0, 'POINT') + ' ‚Ç´'}"></td>
            <td th:text="${detail.quantity}"></td>
            <td th:text="${#numbers.formatDecimal(detail.price * detail.quantity, 0, 'COMMA', 0, 'POINT') + ' ‚Ç´'}"></td>
        </tr>
        </tbody>
    </table>

    <a th:href="@{/admin/orders}" class="btn btn-secondary mt-4">‚Üê Quay l·∫°i danh s√°ch</a>
</main>

<!-- Footer -->
<footer th:replace="~{layout :: footer}"></footer>

<!-- Scripts -->
<div th:replace="~{layout :: script}"></div>

</body>
</html>
